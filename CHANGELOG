February 20, 2014
Version 0.4.5

Added details to the usage documentation for each tool which describes both
the output files and annotation fields.

Renamed --clean flag to --failed flag with opposite behavior, such that the
default behavior of all scripts is now clean output.

output file and description
IgCore:
+ Features added for Change-O compatibility.
+ Features added for PairSeq performance improvements.
+ Added custom help formatter.
+ Modifications to internals of multiprocessing code.
+ Changed maximum consensus quality score from 93 to 90.
+ Fixed a few typos in error messages.

AssemblePairs:
+ Added more verbose logging.
+ Changed PVAL log field to PVALUE.
+ Changed HEADSEQ and TAILSEQ log fields to SEQ1 and SEQ2.
+ Changed HEADFIELDS and TAILFIELDS log fields to FIELDS1 and FIELDS2.
+ Changed precision of ERROR and PVALUE log fields.
+ Added support for cases where one mate pair is the subsequence of the other.
+ Added --scanrev flag to allow for head sequence to overhand end of tail.
+ Removed truncated (quick) error calculation in align subcommand.
+ Changed internal selection of top scoring alignment to use Z-score
  approximation rather than a combination of error rate and binomial
  mid-p value.
+ Added '-q (minimum quality score)' parameter to allow exclusion of low quality
  bases from scoring in align subcommand.
+ Added reference subcommand which uses V-region germline alignments from
  ublast to assemble paired-ends.
+ Internal changes to multiprocessing structure.
+ Changed inserted gap character from - to N in join subcommand for better
  compatibility with the behavior of IMGT/HighV-QUEST.

BuildConsensus
+ Fixed bug where low quality positions where not being masked in single
  sequence barcode groups.

CollapseSeq:
+ Added --keep flag to allow retention of sequences with high missing character
  counts in unique sequence output file.
+ Removed case insensitivity - requiring all sequences to have matching case.
+ Removed 'first' and 'last' from --act choices to avoid unexpected behavior.

MaskPrimers:
+ Changed behavior of N characters in primer identification. Ns now count as a
  match against any character, rather than a mismatch.
+ Changed behavior of mask mode such that positions masked with Ns are now
  assigned quality scores of 0, rather than retaining their previous scores.
+ Fixed a bug with the align subcommand where deletions within the input
  sequence (gaps in the alignment) where not being handled correctly.

PairSeq:
+ Performance improvements. The tool should now be considerably faster on very
  large files.
+ Removed output of sequences which do not have a mate pair (pair-fail file).

SplitSeq
+ Removed --clean (and --failed) flag from all subcommands.

-------------------------------------------------------------------------------
June 10, 2014
Version 0.4.4

SplitSeq:
+ Removed a *nix-specific dependency, allowing SplitSeq to work on Windows.

-------------------------------------------------------------------------------
April 7, 2014
Version 0.4.3

CollapseSeq:
+ Fixed bug that occurs with Python 2.7.5 on OS X.

SplitSeq:
+ Fixed bug in samplepairs subcommand that occurs with Python 2.7.5 on OS X.

-------------------------------------------------------------------------------
March 20, 2014
Version 0.4.2

Increased verbosity of exception reporting.

IgCore:
+ Updates to consensus functions to support changes to BuildConsensus.

AssemblePairs:
+ Set default alpha to 0.01.

BuildConsensus:
+ Added support for '--freq (value)' parameter to quality consensus method
  and set default value to 0.6.
+ Fixed a bug in the frequency consensus method where missing values were
  contributing to the total character count at each position.
+ Added the parameter '--maxmiss (value)' which provides a cut-off for removal 
  of positions with too many N or gap characters .

MaskPrimers:
+ Renamed the '--reverse' parameter to '--revpr'.

SplitSeq:
+ Removed convert subcommand.

-------------------------------------------------------------------------------
January 27, 2014
Version 0.4.1

Changes to the internals of multiple tools to provide support for 
  multiprocessing in Windows environments.
Changes to the internals of multiple tools to provide clean exit of
  child processes upon kill signal or exception in sibling process. 
Fixed unexpected behavior of '--outname' and '--log' arguments with 
  multiple input files.

IgCore:
+ Added reporting of unknown exceptions when reading sequence files
+ Fixed scoring of lowercase sequences.

AlignSets:
+ Fixed a typo in the log output.

BuildConsensus:
+ Fixed a typo in the log output.

EstimateError:
+ Fixed bug where tool would improperly exit if no sets passed threshold
  criteria.
+ Fixed typo in console output.

MaskPrimers:
+ Added 'trim' mode which will cut the region before primer alignment, but 
  leave primer region unmodified.
+ Fixed a bug with lowercase sequence data.
+ Fixed bug in the console and log output.
+ Added support for primer matching when setting '--maxerr 1.0'.

ParseHeaders:
+ Added count of sequences without any valid fields (FAIL) to console output.

ParseLog:
+ Added count of records without any valid fields (FAIL) to console output.

SplitSeq:
+ Fixed typo in console output of samplepair subcommand.
+ Added increase of the open file limit to the group subcommand to allow for a 
  large number of groups.

-------------------------------------------------------------------------------
September 30, 2013
Version 0.4.0

Minor name changes were made to multiple scripts, functions, parameters,
  and output files.

AlignSets, AssemblePairs, BuildConsensus, EstimateError, FilterSeq, and 
  MaskPrimers are now multithreaded.  The number of simultaneous processes
  may be specified using '--nproc (value)'. Note this means file ordering
  is no longer preserved between the input and output sequence files.

Performance improvements were made to several tools.

The universal '--verbose' parameter was replaced with '--log (file name)'
  which specifies a log file for verbose output, and disables verbose logging
  if not specified.  

The report of input parameters and sequence counts is now separate from the log
  and is always printed to standard output.

Added a progress bar to the standard output of most tools.
  
Added a universal '--outname (file prefix)' parameter which changes the leading
  portion of the output file name.  If not specified, the current file name 
  is used (excluding the file extension, as per the previous behavior).

Added a universal '--clean' parameter which if specified forces the tool not to
  create an output file of sequences which failed processing.
  
IgCore:
+ Changes to parameters and internals of multiple functions.
+ Added functions to support multithreading for single-end reads, paired-end .
  reads, and barcode sets.
+ Added safe annotation field renaming.
+ Added progress bar, logging and output file name conversion support.
+ Moved reusable AssemblePairs, BuildConsensus, PairSeq, and SplitSeq.
  operations into IgCore.

AssemblePairs:
+ Coordinate information is now specified by a coordinate type, rather than a 
  delimiter, using the '--coord (header type)' parameter, where the header type
  may be one of (illumina, solexa, sra, 454, presto).

CollapseSeq:
+ Sequences with a missing character count exceeding the user limit defined
  by '-n (maximum missing count)' are now exported to a separate 
  'collapse-undetermined' output file, rather than included in the 
  'collapse-unique' sequence output.

EstimateError:
+ Now outputs error estimations for positions, quality scores, nucleotide 
  pairs, and annotation sets.  
+ Machine reported quality scores and empirical quality scores have been added
  to all output tables.

FilterSeq:
+ Added 'length' subcommand to filter sequences by minimum length.

PairSeq:
+ Coordinate information has been redefined as per AssemblePairs.

ParseHeaders:
+ Added new subcommand 'convert' which attempts to reformat sequence headers 
  into the pRESTO format.
+ The 'rename' subcommand will now append entries if the new field name already
  exists in the sequence header, rather than replace the entry.


-------------------------------------------------------------------------------
August 13, 2013
Version 0.3 (prerelease 6)

Toolkit is now dependent upon pandas 0.12 for the estimateError tool.

alignSets:
+ Changed MUSCLE execution to faster settings ('-diags', '-maxiters 2').

filterQuality:
+ Added 'repeat' subcommand to filter sequences with '-n (value)' repetitions 
  of a single character and. 
+ Changed '-n' parameter of 'ambig' subcommand from fractional value to a 
  raw count.

estimateError:
+ New tool which estimates error of sequence sets by comparison to a consensus.

maskPrimers:
+ Bug fixes to alignment position calculation of 'align' subcommand when primer
  alignment begins before start of sequence.
+ Removed '--ann' parameter.


-------------------------------------------------------------------------------
August 7, 2013
Version 0.3 (prerelease 5)

License changed to Creative Commons Attribution-NonCommercial-ShareAlike 3.0 
  Unported License.

IgPipeline Core:
+ Bug fixes to diversity calculation.
+ Added support for files where all sequences do not share the same annotation 
  fields.
+ Added support for alternate scoring of gap and N-valued nucleotides.

alignSets:
+ Added '--mode' parameter with options of 'pad' and 'cut' to specify whether 
  to extend or trim read groups to the same start position.
+ Fixed intermittent 'muscle' subcommand stdout pipe deadlock when 
  executing MUSCLE.

assemblePairs:
+ Added 'join' subcommand to support library preps where paired-end reads 
  do not overlap.
+ Speed improvements to p-value calculations.

buildConsensus:
+ '--div' parameter converted to '--maxdiv (value)' to allow filtering of read 
  groups by diversity.
+ Bug fixes to nucleotide frequency consensus method.
+ '-q' parameter renamed to '--qual'.

collapseSequences:
+ Added support for files where all sequences do not share the same annotation 
  fields.

splitSeqFile:
+ 'samplepair' subcommand added to allow random sampling from paired-end 
  file sets.
+ The behavior of the '-c' parameter of the 'sample' and 'samplepair' 
  subcommands changed to allow multiple samplings with the same command.


-------------------------------------------------------------------------------
May 18, 2013
Version 0.3 (prerelease 4)

